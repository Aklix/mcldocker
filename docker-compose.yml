version: '3.7'
services:
    build-mcl-linux:
        container_name: mcl-linux
        build:
            context: ./dockerfile
            dockerfile: Dockerfile.mcl-build
            args:
                - TZ=Asia/Istanbul
        environment:
            - repourl=https://github.com/marmarachain/marmara.git
            - branch=development
            - build=./zcutil/build.sh
        volumes:
         - ./volumes/mcl-linux/marmara/:/root/marmara
        entrypoint: bash -c "/root/build_MCL.sh"
    
    build-mcl-win:
        container_name: mcl-win
        build:
            context: ./dockerfile
            dockerfile: Dockerfile.mcl-build-win
            args:
                - TZ=Asia/Istanbul
        environment:
            - repourl=https://github.com/marmarachain/marmara.git
            - branch=development
            - build=./zcutil/build-win.sh
        volumes:
         - ./volumes/mcl-win/marmara/:/root/marmara
        entrypoint: bash -c "/root/build_MCL.sh"
